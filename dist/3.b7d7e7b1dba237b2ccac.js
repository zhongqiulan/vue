webpackJsonp([3],{127:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(153),n=a.n(s),i=a(154),r=a(18)(n.a,i.a,null,null,null);e.default=r.exports},132:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(133),n=a.n(s),i=a(134),r=a(18)(n.a,i.a,null,null,null);e.default=r.exports},133:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(19),n=a(12);e.default={props:{logins:{type:Array}},methods:{snsLogin:function(t){var e=s.API_ROOT+"auth/"+t+"?redirectUrl="+window.location.origin;(0,n.isLogin)()&&(e+="&access_token="+(0,n.getCookie)("token").replace(/(^\")|(\"$)/g,"")),window.location.href=e}}}},134:function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-sns"},[a("ul",t._l(t.logins,function(e,s){return a("li",{key:s,on:{click:function(a){a.stopPropagation(),a.preventDefault(),t.snsLogin(e)}}},[a("a",{class:e,attrs:{href:"#"}},[a("i",{class:"fa fa-"+e})])])}))])},staticRenderFns:[]};e.a=s},153:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(a(6)),i=(a(41),s(a(132))),r=a(11);e.default={components:{snsloginbtns:i.default},computed:(0,n.default)({},(0,r.mapState)({captchaUrl:function(t){return t.globalVal.captchaUrl},logins:function(t){return t.logins.items},token:function(t){return t.auth.token}})),data:function(){return{user:{email:"",password:"",captcha:""}}},created:function(){this.getCaptchaUrl(),this.getSnsLogins()},methods:(0,n.default)({},(0,r.mapActions)(["getSnsLogins","getCaptchaUrl","localLogin"]),{login:function(){var t=this;this.$validator.validateAll().then(function(e){e&&t.localLogin(t.user)}).catch(function(){})}})}},154:function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signin-box"},[a("div",{staticClass:"signin-container"},[a("h4",{staticClass:"title"},[t._v("登 录")]),t._v(" "),a("div",{attrs:{id:"signinForm"}},[a("form",{staticClass:"signin-form form-horizontal",attrs:{novalidate:""},on:{submit:function(e){e.preventDefault(),t.login()}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email|min:3",expression:"'required|email|min:3'"}],staticClass:"form-control",attrs:{type:"text",name:"email","data-vv-delay":"100",placeholder:"邮箱"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||(t.user.email=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|min:5",expression:"'required|min:5'"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"密码"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||(t.user.password=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-xs-6 captcha-code"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.captcha,expression:"user.captcha"},{name:"validate",rawName:"v-validate",value:"required|min:5|max:6",expression:"'required|min:5|max:6'"}],staticClass:"form-control",attrs:{type:"text",name:"captcha",maxlength:"6",placeholder:"验证码"},domProps:{value:t.user.captcha},on:{input:function(e){e.target.composing||(t.user.captcha=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"col-xs-6 captcha-img"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){e.preventDefault(),t.getCaptchaUrl()}}},[a("img",{attrs:{src:t.captchaUrl}})])])]),t._v(" "),t._m(2)])]),t._v(" "),a("div",{staticClass:"login-sns"},[a("p",[t._v("您还可以通过以下方式直接登录")]),t._v(" "),a("snsloginbtns",{attrs:{logins:t.logins}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-envelope-o"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-addon"},[a("i",{staticClass:"fa fa-unlock-alt"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit",id:"signin_btn"}},[t._v("登 录")])])}]};e.a=s}});